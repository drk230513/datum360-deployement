{"version":3,"sources":["assests/bug.svg","assests/search.svg","assests/gantt_chat.svg","assests/map.svg","assests/noDataAttribute.svg","components/NavBar.js","api/api.js","screens/LoginScreen.js","utils/KML_GEN.js","screens/HomeScreen.js","screens/Poc.js","screens/LinearAsset.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","NavBar","props","history","useHistory","className","alt","src","viewBox","xmlns","d","showSearch","id","type","name","placeholder","defaultValue","onClick","e","onClickSearch","document","getElementById","value","xmlnsXlink","version","x","y","style","enableBackground","xmlSpace","width","height","showLogoutButton","push","localStorage","clear","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","points","x1","y1","x2","y2","axios","require","Api","loginDetails","user","pass","attrGroups","console","log","this","getToken","contextFields","getAttributeGroups","p","searchObject","pp","objectAssociations","data","hdl","assocs","generateDataMapEQ","dataMap","objectType","route_length","fixedFields","retData","plaCount","Number","items","assoc","objectByHdl","Hdl","ta","taClass","helperAttrByName","attrs","from_route_chainage","to_route_chainage","attribute_name","attribute_value","attribute_uom","ds_flag","localMap","assocId","class_name","refObj","stylePlace","styleWidth","indexOf","laMap","fixed","ref","it","routeChainage","objId","route_chainage","route_chainage_uom","uom","sort","a","b","searchTerm","ppp","searchObjectWithAttr","pppp","generateDataMap","dataMapRef","routeInfo","route_uom","from_node","to_node","dd","dataMapEq","index","length","JSON","stringify","attrName","key","hasOwnProperty","element","username","password","prefixUrl","request","url","method","baseURL","auth","then","res","defaults","headers","common","access_token","query","contextCache","getRequest","assocTo","searchCxt","body","ID","CLASS","DESCRIPTION","postRequest","qReq","resulturl","attrValue","LoginScren","useState","userName","setUserName","setPassword","setPrefixUrl","isUserNameError","setIsUserNameError","isPassError","setIsPassError","isUrlError","setIsUrlError","isError","setisError","errMsg","setErrMsg","isLoading","setIsLoading","inputClass","errInputClass","htmlFor","onChange","target","undefined","setItem","response","token_type","KML_GEN","geoList","inputArray","forEach","i","Object","keys","val","newKey","replace","newKML","map","item","new_html_for_description","j","join","newItem","xml","formatted","lines","split","indent","lastType","transitions","ln","match","single","Boolean","closing","opening","fromTo","padding","substr","formatXml","OBJtoXML","obj","prop","Array","array","AnyReactComponent","text","HomeScreen","setIsError","inputTag","setInputTag","setData","arrSplittedValue","setArrSplittedValue","arrData","counter","splitedValue","trim","getItem","token","fetch","Accept","Authorization","json","responseData","catch","error","submitTagNumber","display","preventDefault","pre_kml_data","parse","file","File","Date","saveAs","class","features","geometry","coordinates","parseFloat","Longitude","Latitude","properties","arrNameValue","arrkeys","bootstrapURLKeys","options","mapTypeControl","defaultCenter","lat","lng","center","distanceToMouse","defaultZoom","nameValue","allowZeroExpanded","stroke-width","stroke-linecap","stroke-linejoin","showAttr","Poc","useEffect","tasks","taskStatus","endDate","startDate","window","d3","gantt","taskTypes","tickFormat","gantt1","tasks2","gantt2","InitializeMap","position","offset","stopColor","stopOpacity","LinearAsset","ganttData","setGanttData","setAss_ganttData","attributeData","setAttributeData","documentData","setdocumentData","isAttrLoading","setIsAttrLoading","showData","setShowData","isGanntHaveData","setIsGanntHaveData","isAssociateGanntHaveData","setIsAssociateGanntHaveData","generateGanttData","LaMap","mapdata","fixed_obj","values","filter","substring","ref_obj","generateMapData","onClickGanttItem","clickedObj","associativeData","ClsName","link","Url","myMap","setZoom","panTo","generateAssociateData","AssociativeData","issueKeys","Issue","issue_obj","valueKeys","Value","value_obj","taskNames","mapObj","waypoints","origin","destination","keyword","searchKey","getRouteObj","minHeight","preExpanded","uuid","href","draggable","search","bug","App","exact","path","component","LoginScreen","location","hostname","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.5dbb4d21.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bug.9062dc5c.svg\";","module.exports = __webpack_public_path__ + \"static/media/search.0f7fe590.svg\";","module.exports = __webpack_public_path__ + \"static/media/gantt_chat.204af6f4.svg\";","module.exports = __webpack_public_path__ + \"static/media/map.a856e094.svg\";","module.exports = __webpack_public_path__ + \"static/media/noDataAttribute.cb61ac4f.svg\";","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst NavBar = props => {\r\n    const history = useHistory();\r\n\r\n    const logout = () => {\r\n        //remove all local storage\r\n        localStorage.clear();\r\n        history.push('/');\r\n    }\r\n\r\n    const onClickSearch = () => {\r\n        //pass value in props\r\n        props.onClickSearch(document.getElementById(\"search\").value)\r\n    }\r\n\r\n    return (\r\n        <nav className=\"flex items-center justify-between flex-wrap bg-purple-900  p-6\">\r\n            <div className=\"flex items-center flex-shrink-0 text-black mr-6\">\r\n                <img alt=\"Logo\" className=\"w-1/2\" src=\"https://www.datum360.com/assets/img/logo.png\"></img>\r\n            </div>\r\n            <div className=\"block lg:hidden\">\r\n                <button className=\"flex items-center px-3 py-2 border rounded text-teal-200 border-teal-400 hover:text-white hover:border-white\">\r\n                    <svg className=\"fill-current h-3 w-3\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><title>Menu</title><path d=\"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z\" /></svg>\r\n                </button>\r\n            </div>\r\n            <div className=\"w-full block flex-grow lg:flex lg:items-center lg:w-auto\">\r\n                <div className=\"text-sm lg:flex-grow\">\r\n                </div>\r\n                    <div className={props.showSearch ? \"relative mx-auto text-gray-600 mr-3\" : \"hidden\"}> \r\n                        <input id=\"search\" className=\"border-2 bg-gray-300 bg-white h-10 px-5 pr-10 rounded-lg text-sm focus:outline-none\" \r\n                            type=\"search\" name=\"search\" placeholder=\"Enter you tag to search\" \r\n                            defaultValue=\"\"\r\n                        />\r\n                        <button type=\"submit\" className=\"absolute right-0 top-0 mt-5 mr-4 r-5px t-n7px\" \r\n                            onClick={(e)=> onClickSearch(e)}\r\n                        >\r\n                        <svg className=\"text-gray-600 h-4 w-4 fill-current\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 56.966 56.966\" style={{enableBackground: 'new 0 0 56.966 56.966'}} xmlSpace=\"preserve\" width=\"512px\" height=\"512px\">\r\n                            <path d=\"M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z\" />\r\n                        </svg>\r\n                        </button>\r\n                    </div>\r\n\r\n                <div className={`${props.showLogoutButton ? \"\" : \"hidden\"}`}>\r\n                    <button className=\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center mr-3\" onClick={() => history.push(\"/home\")}>\r\n                        <span>Home</span>\r\n                    </button>\r\n                </div>\r\n                <div className={`${props.showLogoutButton ? \"\" : \"hidden\"}`}>\r\n                    <button className=\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center mr-3\" onClick={() => history.push(\"/linearAsset\")}>\r\n                        <span>Linear Asset</span>\r\n                    </button>\r\n                </div>\r\n                <div className={`${props.showLogoutButton ? \"\" : \"hidden\"}`}>\r\n                    <button className=\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center\" onClick={() => logout()}>\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"feather feather-log-out\"><path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"></path><polyline points=\"16 17 21 12 16 7\"></polyline><line x1=\"21\" y1=\"12\" x2=\"9\" y2=\"12\"></line></svg>\r\n                        <span>Logout</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default NavBar;","\r\nconst axios = require('axios');\r\n\r\nexport default class Api {\r\n\r\n    loginDetails = { user: '', pass: '' };\r\n\r\n    attrGroups = {};\r\n\r\n    static async warmUp() {\r\n        console.log(\"inside warmUp --------->\")\r\n        await this.getToken();\r\n        await this.contextFields('TAGGED_ITEM');\r\n        this.attrGroups = await this.getAttributeGroups();\r\n    }\r\n\r\n    static setUserPass(user, pass) {\r\n        this.loginDetails = { user: user, pass: pass };\r\n    }\r\n\r\n    static async login() {\r\n        console.log(\"inside login --------->\")\r\n        var p = await this.getToken();\r\n        console.log(p);\r\n\r\n        var pp = await this.searchObject(\"TAGGED_ITEM\", 'Route B to C');\r\n        var assocs = await this.objectAssociations('TAGGED_ITEM', pp.data[0].hdl, \"EQUIPMENT_ITEM\");\r\n        var dd = await this.generateDataMapEQ(assocs, 'TAGGED_ITEM');\r\n\r\n        // var pp = await this.searchObject(\"TAGGED_ITEM\", 'Route B to C');\r\n        // var ppp = await this.objectByHdl('TAGGED_ITEM', pp.data[0].hdl);\r\n\r\n        // var routeInfo = {\r\n        //     route_length: this.helperAttrByName(ppp.attrs, 'Length').value,\r\n        //     route_uom: this.helperAttrByName(ppp.attrs, 'Length').uom,\r\n        //     from_node: this.helperAttrByName(ppp.attrs, 'From Reference Node').value,\r\n        //     to_node: this.helperAttrByName(ppp.attrs, 'To Reference Node').value,\r\n        // }\r\n\r\n        // var pppp = await this.searchObjectWithAttr('TAGGED_ITEM', 'Route', 'Route B To C');\r\n        // await this.generateDataMap(pppp, 'TAGGED_ITEM');\r\n\r\n        console.log('done');\r\n        // var pp = await x.getRequest(\"api/context/fields/TAGGED_ITEM\");\r\n        // console.log(pp.ID);\r\n    }\r\n\r\n    static async generateDataMapEQ(dataMap, objectType, route_length) {\r\n        console.log(\"inside generateDataMapEQ ---------> dataMap \"+ dataMap + \" route_length \" + route_length)\r\n\r\n        let fixedFields = ['Issue', 'Value'];\r\n        let retData = {};\r\n\r\n\r\n        let plaCount = 100 / Number(route_length);\r\n\r\n        for (const assoc of dataMap.items) {\r\n\r\n            let ta = await this.objectByHdl(\"EQUIPMENT_ITEM\", assoc.Hdl);\r\n\r\n            let taClass = this.helperAttrByName(ta.attrs, 'Class Name').value;\r\n            let from_route_chainage = this.helperAttrByName(ta.attrs, 'From Route Chainage');\r\n            let to_route_chainage = this.helperAttrByName(ta.attrs, 'To Route Chainage');\r\n            let attribute_name = this.helperAttrByName(ta.attrs, 'Linear Asset Attribute Name').value;\r\n            let attribute_value = this.helperAttrByName(ta.attrs, 'Linear Asset Attribute Value').value;\r\n            let attribute_uom = this.helperAttrByName(ta.attrs, 'Linear Asset Value UoM').value;\r\n            let ds_flag = this.helperAttrByName(ta.attrs, 'DS Flag').value;\r\n\r\n            let localMap = {\r\n                assocId: assoc.id,\r\n                from_route_chainage: Number(from_route_chainage.value),\r\n                to_route_chainage: Number(to_route_chainage.value),\r\n                class_name: taClass,\r\n                attribute_name: attribute_name,\r\n                attribute_value: attribute_value,\r\n                attribute_uom: attribute_uom,\r\n                ds_flag: ds_flag,\r\n                refObj: assoc\r\n            };\r\n\r\n            localMap.stylePlace = plaCount * localMap.from_route_chainage;\r\n            localMap.styleWidth = (plaCount * localMap.to_route_chainage) - localMap.stylePlace;\r\n\r\n\r\n            if (fixedFields.indexOf(ds_flag) != -1) {\r\n                if (!retData[localMap.ds_flag])\r\n                    retData[localMap.ds_flag] = {};\r\n\r\n                if (!retData[localMap.ds_flag][localMap.class_name])\r\n                    retData[localMap.ds_flag][localMap.class_name] = [];\r\n\r\n                retData[localMap.ds_flag][localMap.class_name].push(localMap);\r\n            }\r\n\r\n        }\r\n\r\n        //retData = retData.sort((a, b) => (a.class_name > b.class_name) ? 1 : -1);\r\n\r\n        return retData;\r\n    }\r\n\r\n\r\n    static async generateDataMap(dataMap, objectType) {\r\n        console.log(\"inside generateDataMap ---------> dataMap \"+ dataMap + \" objectType \" + objectType)\r\n\r\n        let laMap = {\r\n            fixed: [],\r\n            ref: []\r\n        };\r\n\r\n        for (const it of dataMap.data) {\r\n            let fixedFields = ['Isolator', 'AST Booster', 'Section Insulator'];\r\n\r\n            let ta = await this.objectByHdl(objectType, it.hdl);\r\n            let taClass = this.helperAttrByName(ta.attrs, 'Class Name').value;\r\n            let routeChainage = this.helperAttrByName(ta.attrs, 'Route Chainage');\r\n            if (routeChainage) {\r\n                let localMap = {\r\n                    objId: it.objId,\r\n                    class_name: taClass,\r\n                    route_chainage: Number(routeChainage.value),\r\n                    route_chainage_uom: routeChainage.uom,\r\n                    hdl: it.hdl,\r\n                    refObj: ta\r\n                };\r\n\r\n                if (fixedFields.indexOf(taClass) != -1)\r\n                    laMap.fixed.push(localMap);\r\n                else\r\n                    laMap.ref.push(localMap);\r\n            }\r\n        }\r\n\r\n        laMap.fixed = laMap.fixed.sort((a, b) => (a.route_chainage > b.route_chainage) ? 1 : -1);\r\n        laMap.ref = laMap.ref.sort((a, b) => (a.route_chainage > b.route_chainage) ? 1 : -1);\r\n        // console.log(\"laMap --------------> \" + JSON.stringify(laMap));\r\n        // console.log(laMap);\r\n        return laMap;\r\n        //working\r\n    }\r\n\r\n    static async getRouteObj(searchTerm) {\r\n        console.log(\"inside getRouteObj --------> searchTerm \"+searchTerm)\r\n        // var p = await this.getToken();//this is really bad practise as generate datamap could be proper async\r\n        var pp = await this.searchObject(\"TAGGED_ITEM\", searchTerm);\r\n        var ppp = await this.objectByHdl('TAGGED_ITEM', pp.data[0].hdl);\r\n        var pppp = await this.searchObjectWithAttr('TAGGED_ITEM', 'Route', searchTerm);\r\n        var dataMapRef = await this.generateDataMap(pppp, 'TAGGED_ITEM');\r\n        var assocs = await this.objectAssociations('TAGGED_ITEM', pp.data[0].hdl, \"EQUIPMENT_ITEM\");\r\n\r\n        var routeInfo = {\r\n            route_length: Number(this.helperAttrByName(ppp.attrs, 'Length').value),\r\n            route_uom: this.helperAttrByName(ppp.attrs, 'Length').uom,\r\n            from_node: this.helperAttrByName(ppp.attrs, 'From Reference Node').value,\r\n            to_node: this.helperAttrByName(ppp.attrs, 'To Reference Node').value,\r\n            dataMap: dataMapRef\r\n        }\r\n\r\n        let plaCount = 100 / Number(routeInfo.route_length);\r\n\r\n        var dd = await this.generateDataMapEQ(assocs, 'TAGGED_ITEM', routeInfo.route_length);\r\n        routeInfo.dataMapEq = dd;\r\n\r\n        for (let index = 0; index < routeInfo.dataMap.fixed.length; index++) {\r\n            routeInfo.dataMap.fixed[index].stylePlace = plaCount * routeInfo.dataMap.fixed[index].route_chainage;\r\n        }\r\n\r\n        for (let index = 0; index < routeInfo.dataMap.ref.length; index++) {\r\n            routeInfo.dataMap.ref[index].stylePlace = plaCount * routeInfo.dataMap.ref[index].route_chainage;\r\n        }\r\n        console.log(\"routeInfo  ------------> \"+JSON.stringify(routeInfo))\r\n        // console.log(routeInfo)\r\n        return routeInfo;\r\n    }\r\n\r\n    static helperAttrByName(attrs, attrName) {\r\n        //this entire function can be replaced by 1 or two lines TS/ES6\r\n        for (const key in attrs) {\r\n            if (attrs.hasOwnProperty(key)) {\r\n                const element = attrs[key];\r\n                if (element.name == attrName)\r\n                    return element;\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    static async getToken(username, password, prefixUrl) {\r\n        return axios.request({\r\n            url: \"/oauth2/token\",\r\n            method: \"post\",\r\n            baseURL: \"https://\" + prefixUrl + \".acl360.io\",\r\n            auth: {\r\n                username: username,\r\n                password: password\r\n            },\r\n            data: {\r\n                \"grant_type\": \"client_credentials\",\r\n                \"service_url\": \"https://\" + prefixUrl + \".pim360.io/\"\r\n            }\r\n        }).then(function (res) {\r\n            axios.defaults.headers.common = { 'Authorization': \"Bearer \" + res.data.access_token }\r\n            return res;\r\n        });\r\n    }\r\n\r\n    static async getRequest(url) {\r\n        console.log(\"inside getRequest ------------> url \"+url)\r\n        return axios.request({\r\n            url: url,\r\n            method: \"get\",\r\n            baseURL: \"https://mim.pim360.io/\",\r\n        }).then(function (res) {\r\n            return res.data;\r\n        });\r\n    }\r\n\r\n    static async postRequest(url, query) {\r\n        console.log(\"inside postRequest ------------> url \"+ url+ \" query \"+ query)\r\n\r\n        return axios.request({\r\n            url: url,\r\n            method: \"post\",\r\n            baseURL: \"https://mim.pim360.io/\",\r\n            data: query\r\n        }).then(function (res) {\r\n            return res.data;\r\n        });\r\n    }\r\n\r\n\r\n    static async contextFields(objectType) {\r\n        console.log(\"inside contextFields ------------> \"+objectType);\r\n        console.log(this.contextCache);\r\n        if (!this.contextCache)\r\n            this.contextCache = {};\r\n\r\n        if (!this.contextCache[objectType]) {\r\n            this.contextCache[objectType] = await this.getRequest('api/context/fields/' + objectType);\r\n        }\r\n\r\n        return this.contextCache[objectType];\r\n    }\r\n\r\n    static async objectByHdl(objectType, hdl) {\r\n        console.log(\"inside objectByHdl ---------> objectType  \" + objectType + \" hdl \" + hdl)\r\n\r\n        return this.getRequest(`api/objects/${objectType}/${hdl}`);\r\n    }\r\n\r\n    static async getAttributeGroups() {\r\n        console.log(\"inside getAttributeGroups ------------>\");\r\n        return this.getRequest(`api/objects/attributegroups`);\r\n    }\r\n\r\n    static async objectAssociations(objectType, hdl, assocTo) {\r\n        console.log(\"inside objectAssociations -------> objectType  \"+objectType + \" hdl \" + hdl + \" assocTo \" + assocTo )\r\n        return this.getRequest(`api/associations?type=${objectType}&hdl=${hdl}&assoc=${assocTo}&skip=0`);\r\n    }\r\n\r\n    static async searchObject(objectType, searchTerm) {\r\n        console.log(\"inside searchObject --------> objectType \"+objectType + \" searchTerm \" + searchTerm);\r\n\r\n        let searchCxt = await this.contextFields(objectType);\r\n\r\n        let body = {\r\n            \"type\": \"TAGGED_ITEM\",\r\n            \"eic\": \"\",\r\n            \"filter\": {\r\n                \"logical\": \"AND\",\r\n                \"items\": [\r\n                    {\r\n                        \"handle\": searchCxt.ID.Hdl,\r\n                        \"operator\": \"$regex-l\",\r\n                        \"value\": searchTerm,\r\n                        \"caseSensitive\": false,\r\n                        \"excludeUoM\": false,\r\n                        \"regex\": false\r\n                    }\r\n                ]\r\n            },\r\n            \"fields\": [\r\n                searchCxt.ID.Hdl,\r\n                searchCxt.CLASS.Hdl,\r\n                searchCxt.DESCRIPTION.Hdl\r\n            ]\r\n        };\r\n\r\n        let qReq = await this.postRequest('api/queries', body);\r\n\r\n        return this.getRequest(`api${qReq.resulturl}`);\r\n    }\r\n\r\n    static async searchObjectWithAttr(objectType, attrName, attrValue) {\r\n        console.log(\"inside searchObjectWithAttr ----------> objectType \"+objectType + \" attrName \" + attrName + \" attrValue \" + attrValue)\r\n        let searchCxtR = await this.contextFields(attrName);\r\n        let searchCxt = await this.contextFields(objectType);\r\n\r\n        let body = {\r\n            \"type\": \"TAGGED_ITEM\",\r\n            \"eic\": \"\",\r\n            \"filter\": {\r\n                \"logical\": \"AND\",\r\n                \"items\": [\r\n                    {\r\n                        \"operator\": \"$regex-l\",\r\n                        \"value\": attrValue,\r\n                        \"handle\": \"TMiQuiViT1OEjp8uEeLy_Q\",\r\n                        \"caseSensitive\": false,\r\n                        \"excludeUoM\": false,\r\n                        \"regex\": false\r\n                    }\r\n                ]\r\n            },\r\n            \"fields\": [\r\n                searchCxt.ID.Hdl,\r\n                searchCxt.CLASS.Hdl,\r\n                searchCxt.DESCRIPTION.Hdl\r\n            ]\r\n        };\r\n\r\n        let qReq = await this.postRequest('api/queries', body);\r\n\r\n        return this.getRequest(`api${qReq.resulturl}`);\r\n    }\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport NavBar from '../components/NavBar'\r\nimport  Api from \"../api/api\";\r\n\r\n\r\nfunction LoginScren(props) {\r\n  // Declare a new state variable, which we'll call \"count\"\r\n  // const [count, setCount] = useState(0);\r\n  const history = useHistory();\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [prefixUrl, setPrefixUrl] = useState(\"\");\r\n  const [isUserNameError, setIsUserNameError] = useState(false);\r\n  const [isPassError, setIsPassError] = useState(false);\r\n  const [isUrlError, setIsUrlError] = useState(false);\r\n  const [isError, setisError] = useState();\r\n  const [errMsg, setErrMsg] = useState();\r\n  const[isLoading, setIsLoading] = useState(false);\r\n\r\n  const inputClass = \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:border-purple-900\";\r\n  const errInputClass = \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none border-red-500\";\r\n\r\n\r\n  const doLogin = () => {\r\n    setIsLoading(true);\r\n    //reset error value\r\n    setisError(false);\r\n    setIsUserNameError(false);\r\n    setIsPassError(false);\r\n    setIsUrlError(false);\r\n    setErrMsg(\"\");\r\n\r\n    // validation\r\n    if (userName !== undefined && userName.length > 0 && password.length > 0 && prefixUrl.length > 0) {\r\n      //setting prefix url to localstorage\r\n      localStorage.setItem(\"prefixUrl\", prefixUrl);\r\n     \r\n      Api.getToken(userName, password, prefixUrl).then((response)=>{\r\n        if(response.data.access_token != \"\"){\r\n          setIsLoading(false);\r\n          //set token in local storage\r\n          localStorage.setItem(\"b_token\", response.data.token_type + \" \" + response.data.access_token);\r\n          history.push('/home');\r\n        };\r\n      });\r\n    }\r\n    else {\r\n      //setting userName error \r\n      if(userName.length == 0){\r\n        setIsUserNameError(true);\r\n      }\r\n      //setting password error \r\n      if(password.length == 0){\r\n        setIsPassError(true);\r\n      }\r\n      //setting userName error \r\n      if(prefixUrl.length == 0){\r\n        setIsUrlError(true);\r\n      }\r\n      //setting common error\r\n      setisError(true);\r\n      setErrMsg(\"Please fill all the fields\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <NavBar showLogoutButton={false}></NavBar>\r\n      {isLoading ?\r\n          <div className=\"popUpContainer\">\r\n              <div className=\"loader\"></div>\r\n          </div>\r\n      : \"\"}\r\n      <div className=\"w-full max-w-sm login-container mt-5\">\r\n        <form className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\">\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"username\">\r\n              Username\r\n          </label>\r\n            <input className={isUserNameError ? errInputClass : inputClass}\r\n              id=\"username\" type=\"text\" value={userName} placeholder=\"Enter your username\" onChange={(e) => setUserName(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"password\">\r\n              Password\r\n          </label>\r\n            <input className={isPassError ? errInputClass : inputClass} value={password}\r\n              id=\"password\" type=\"password\" placeholder=\"Enter your password\" onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"username\">\r\n              Prefix URL\r\n          </label>\r\n            <input className={isUrlError ? errInputClass : inputClass} value={prefixUrl}\r\n              id=\"prefixUrl\" type=\"text\" placeholder=\"Enter your prefix url\" onChange={(e) => setPrefixUrl(e.target.value)}\r\n            />\r\n            <span className=\"text-gray-700 text-xs\">Note: Its is 1st portion of your domain name (also known as subdomain), or its called as scope of pim360.</span>\r\n          </div>\r\n          <p className=\"text-center text-red-500\">{isError ? errMsg : \"\"}</p>\r\n          <div className=\"flex\">\r\n            <button className=\"mt-3 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline m-auto\" type=\"button\"\r\n              onClick={() => { doLogin() }}>\r\n              Proceed\r\n      </button>\r\n          </div>\r\n        </form>\r\n        <br>\r\n        </br>\r\n        <p className=\"text-center\">&copy; Datum360 Limited</p>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default LoginScren;","// KML Generator\\\r\nexport const KML_GEN = (geoList, inputArray) => {\r\n    var latlngToDms = require('latlng-to-dms');\r\n\r\n    function toDegreesMinutesAndSeconds(coordinate) {\r\n        var absolute = Math.abs(coordinate);\r\n        var degrees = Math.floor(absolute);\r\n        var minutesNotTruncated = (absolute - degrees) * 60;\r\n        var minutes = Math.floor(minutesNotTruncated);\r\n        var seconds = Math.floor((minutesNotTruncated - minutes) * 60);\r\n    \r\n        return degrees + \" \" + minutes + \"' \" + seconds + `''`;\r\n    }\r\n\r\n    if (geoList) {\r\n        if (geoList.length > 0) {\r\n            // remove space with _\r\n            geoList.forEach(function (e, i) {\r\n                // Iterate over the keys of object\r\n                Object.keys(e).forEach(function (key) {\r\n\r\n                    // Copy the value\r\n                    var val = e[key],\r\n                        newKey = key.replace(/\\s+/g, '_');\r\n\r\n                    // Remove key-value from object\r\n                    delete geoList[i][key];\r\n\r\n                    // Add value with new key\r\n                    geoList[i][newKey] = val;\r\n                });\r\n            });\r\n\r\n            // custom json to ready for xml json\r\n            let newKML = [];\r\n            if (geoList.length > 0) {\r\n                geoList.map((item, index) => {\r\n                    let new_html_for_description = Object.keys(item).map((j) => {\r\n                        return \"<div>\" + j + \" - \" + item[j] + \"<br></div>\";\r\n                    }).join('')\r\n\r\n                    let newItem = {\r\n                        \"Placemark\": {\r\n                            \"name\": inputArray[index],\r\n                            \"description\": `<![CDATA[${new_html_for_description}]]>`,\r\n                            \"Point\": {\r\n                                \"coordinates\": `${item[\"Longitude\"]},${item[\"Latitude\"]}`\r\n                                // \"coordinates\": latlngToDms(`${item[\"Latitude\"]}, ${item[\"Longitude\"]}`)\r\n                                // \"coordinates\": `${toDegreesMinutesAndSeconds(item[\"Latitude\"])} ${item[\"Latitude\"] > 0 ? \"N\" : \"S\"}, ${toDegreesMinutesAndSeconds(item[\"Longitude\"])} ${item[\"Longitude\"] > 0 ? \"E\" : \"W\"}`\r\n                            }\r\n                        }\r\n                    };\r\n                    newKML.push(newItem)\r\n                })\r\n            }\r\n\r\n            // object to xml\r\n            function OBJtoXML(obj) {\r\n                var xml = '';\r\n                for (var prop in obj) {\r\n                    xml += obj[prop] instanceof Array ? '' : \"<\" + prop + \">\";\r\n                    if (obj[prop] instanceof Array) {\r\n                        for (var array in obj[prop]) {\r\n                            xml += \"<\" + prop + \">\";\r\n                            xml += OBJtoXML(new Object(obj[prop][array]));\r\n                            xml += \"</\" + prop + \">\";\r\n                        }\r\n                    } else if (typeof obj[prop] == \"object\") {\r\n                        xml += OBJtoXML(new Object(obj[prop]));\r\n                    } else {\r\n                        xml += obj[prop];\r\n                    }\r\n                    xml += obj[prop] instanceof Array ? '' : \"</\" + prop + \">\";\r\n                }\r\n                var xml = xml.replace(/<\\/?[0-9]{1,}>/g, '');\r\n                return xml\r\n            }\r\n\r\n            // formatXml\r\n            function formatXml (xml) {\r\n                var reg = /(>)\\s*(<)(\\/*)/g; // updated Mar 30, 2015\r\n                var wsexp = / *(.*) +\\n/g;\r\n                var contexp = /(<.+>)(.+\\n)/g;\r\n                xml = xml.replace(reg, '$1\\n$2$3').replace(wsexp, '$1\\n').replace(contexp, '$1\\n$2');\r\n                var pad = 0;\r\n                var formatted = '';\r\n                var lines = xml.split('\\n');\r\n                var indent = 0;\r\n                var lastType = 'other';\r\n                // 4 types of tags - single, closing, opening, other (text, doctype, comment) - 4*4 = 16 transitions \r\n                var transitions = {\r\n                    'single->single': 0,\r\n                    'single->closing': -1,\r\n                    'single->opening': 0,\r\n                    'single->other': 0,\r\n                    'closing->single': 0,\r\n                    'closing->closing': -1,\r\n                    'closing->opening': 0,\r\n                    'closing->other': 0,\r\n                    'opening->single': 1,\r\n                    'opening->closing': 0,\r\n                    'opening->opening': 1,\r\n                    'opening->other': 1,\r\n                    'other->single': 0,\r\n                    'other->closing': -1,\r\n                    'other->opening': 0,\r\n                    'other->other': 0\r\n                };\r\n\r\n                for (var i = 0; i < lines.length; i++) {\r\n                    var ln = lines[i];\r\n\r\n                    // Luca Viggiani 2017-07-03: handle optional <?xml ... ?> declaration\r\n                    if (ln.match(/\\s*<\\?xml/)) {\r\n                        formatted += ln + \"\\n\";\r\n                        continue;\r\n                    }\r\n                    // ---\r\n\r\n                    var single = Boolean(ln.match(/<.+\\/>/)); // is this line a single tag? ex. <br />\r\n                    var closing = Boolean(ln.match(/<\\/.+>/)); // is this a closing tag? ex. </a>\r\n                    var opening = Boolean(ln.match(/<[^!].*>/)); // is this even a tag (that's not <!something>)\r\n                    var type = single ? 'single' : closing ? 'closing' : opening ? 'opening' : 'other';\r\n                    var fromTo = lastType + '->' + type;\r\n                    lastType = type;\r\n                    var padding = '';\r\n\r\n                    indent += transitions[fromTo];\r\n                    for (var j = 0; j < indent; j++) {\r\n                        padding += '\\t';\r\n                    }\r\n                    if (fromTo == 'opening->closing')\r\n                        formatted = formatted.substr(0, formatted.length - 1) + ln + '\\n'; // substr removes line break (\\n) from prev loop\r\n                    else\r\n                        formatted += padding + ln + '\\n';\r\n                }\r\n\r\n                return formatted;\r\n            };\r\n\r\n            // final processing\r\n            let beforeKML = OBJtoXML(newKML)\r\n            const responseMessage = `<?xml version=\"1.0\" encoding=\"UTF-8\"?><kml xmlns=\"http://www.opengis.net/kml/2.2\" xmlns:gx=\"http://www.google.com/kml/ext/2.2\"><Document id=\"1\">` + beforeKML + `</Document></kml>`;\r\n\r\n            return formatXml(responseMessage);\r\n        } else {\r\n            return \"\";\r\n        }\r\n    } else {\r\n        return '';\r\n    }\r\n}","import React, { useState, useEffect } from 'react';\r\nimport GoogleMapReact from 'google-map-react';\r\nimport { FileSaver, saveAs } from 'file-saver';\r\nimport { KML_GEN } from '../utils/KML_GEN'\r\nimport NavBar from '../components/NavBar'\r\nimport {\r\n    Accordion,\r\n    AccordionItem,\r\n    AccordionItemHeading,\r\n    AccordionItemButton,\r\n    AccordionItemPanel,\r\n} from 'react-accessible-accordion';\r\n\r\nconst AnyReactComponent = ({ text }) => <div><img alt=\"Marker\" src=\"https://img.icons8.com/fluent/48/000000/marker-storm.png\" />{text}</div>;\r\n\r\nconst HomeScreen = props => {\r\n    const inputClass = \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\";\r\n    const errInputClass = \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline border-red-500\";\r\n    const [isError, setIsError] = useState();\r\n    const [inputTag, setInputTag] = useState('');\r\n    const [data, setData] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [arrSplittedValue, setArrSplittedValue] = useState([]);\r\n\r\n    const submitTagNumber = () => {\r\n        //reset default value \r\n        setIsError(false);\r\n\r\n        //validation\r\n        if (inputTag !== null && inputTag.length > 0) {\r\n            setIsLoading(true)\r\n            let arrData = [];\r\n            let counter = 0;\r\n            var splitedValue = inputTag.split(\",\").map((item) => {\r\n                return item.trim();\r\n            });\r\n            setArrSplittedValue(splitedValue);\r\n            splitedValue.map((id) => {\r\n                let url = \"https://\" + localStorage.getItem(\"prefixUrl\") + \".pim360.io/api/objects/TAGGED_ITEM/id/\" + id;\r\n                let token = localStorage.getItem(\"b_token\");\r\n                fetch(url, {\r\n                    headers: {\r\n                        Accept: \"application/json\",\r\n                        Authorization: token,\r\n                    }\r\n                }).then(response => {\r\n                    var responseValue = response.json();\r\n                    return responseValue;\r\n                }).then(responseData => {\r\n                    if (responseData.attrs !== undefined && responseData.attrs !== null) {\r\n                        arrData.push(responseData);\r\n                    }\r\n                    else {\r\n                        console.log(responseData);\r\n                    }\r\n                    counter += 1;\r\n                    if (counter === splitedValue.length) {\r\n                        setIsLoading(false);\r\n                        setData(arrData);\r\n                        return\r\n                    }\r\n                }).catch(error => {\r\n                    console.log(\"error -------->\" + error);\r\n                    counter += 1\r\n                    if (counter === splitedValue.length) {\r\n                        setIsLoading(false);\r\n                    }\r\n                })\r\n                return '';\r\n            })\r\n        }\r\n        else {\r\n            setIsError(true);\r\n            console.log(\"show error\");\r\n        }\r\n    }\r\n\r\n    const showAttr = () => {\r\n        let arrNameValue = [];\r\n        data.map((item) => {\r\n            let arrkeys = Object.keys(item.attrs)\r\n            let obj = {};\r\n            arrkeys.map((key) => {\r\n                obj[item.attrs[key].name] = item.attrs[key].value;\r\n                return '';\r\n            })\r\n            arrNameValue.push(obj);\r\n            return '';\r\n        });\r\n        localStorage.setItem('pre_kml_data', JSON.stringify(arrNameValue))\r\n        localStorage.setItem('inputsArray', JSON.stringify(arrSplittedValue))\r\n        // console.log(JSON.stringify(arrNameValue))\r\n        // console.log(arrSplittedValue);\r\n        return <div className=\"flex mb-4\">\r\n            <div className=\"w-1/2 m-h-500px p-5\">\r\n                {arrNameValue.length > 0 &&\r\n                    <div className=\"w-full h-full shadow-lg\">\r\n                        <GoogleMapReact\r\n                            bootstrapURLKeys={{ key: \"AIzaSyDNeF0TGdzD6PN696-ZWgdP7z9ltW0l1QY\" }}\r\n                            options={() => {\r\n                                return {\r\n                                    mapTypeControl: true\r\n                                }\r\n                            }}\r\n                            defaultCenter={{\r\n                                lat: parseFloat(arrNameValue[0].Latitude),\r\n                                lng: parseFloat(arrNameValue[0].Longitude)\r\n                            }}\r\n                            center={{\r\n                                lat: parseFloat(arrNameValue[0].Latitude),\r\n                                lng: parseFloat(arrNameValue[0].Longitude)\r\n                            }}\r\n                            distanceToMouse={() => { }}\r\n                            defaultZoom={arrNameValue ? 6 : 6}\r\n                        >\r\n                            {arrNameValue.map((nameValue) => {\r\n                                return <AnyReactComponent\r\n                                    lat={nameValue.Latitude}\r\n                                    lng={nameValue.Longitude}\r\n                                />\r\n                            })}\r\n                        </GoogleMapReact>\r\n                    </div>\r\n                }\r\n            </div>\r\n            <div className=\"w-1/2 m-h-500px\">\r\n                <div className=\"max-w rounded w-full shadow  p-5\">\r\n                    <p className=\"text-xl font-bold mb-3\">Attributes</p>\r\n                    <Accordion className=\"border-0\" allowZeroExpanded >\r\n                        {arrNameValue.map((item, index) => {\r\n                            return <AccordionItem className=\"shadow-md mb-3\" key={item.Latitude}>\r\n                                <AccordionItemHeading className=\"bg-gray-400 p-2\">\r\n                                    <AccordionItemButton className=\"w-full border-none outline-none focus:border-0 inline-flex\">\r\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-arrow-right\"><line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line><polyline points=\"12 5 19 12 12 19\"></polyline></svg>\r\n                                        &emsp;\r\n                                        {arrSplittedValue[index]}\r\n                                    </AccordionItemButton>\r\n                                </AccordionItemHeading>\r\n                                <AccordionItemPanel>\r\n                                    <table class=\"table-auto w-full\">\r\n                                        <tbody>\r\n                                            {Object.keys(item).map((key) => {\r\n                                                return <tr>\r\n                                                    <td class=\"border px-4 py-2\">{key}</td>\r\n                                                    <td class=\"border px-4 py-2\">{item[key]}</td>\r\n                                                </tr>\r\n                                            })}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </AccordionItemPanel>\r\n                            </AccordionItem>\r\n                        })}\r\n                    </Accordion>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <NavBar showLogoutButton={true}></NavBar>\r\n            {isLoading ?\r\n                <div className=\"popUpContainer\">\r\n                    <div className=\"loader\"></div>\r\n                </div>\r\n                : \"\"}\r\n            <div className=\"p-10\">\r\n                <div className=\"w-full max-w\">\r\n                    <form className=\"bg-white rounded pt-6 pb-8 mb-4\">\r\n                        <div>\r\n                            <div className=\"inline-block\">\r\n                                <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"username\">\r\n                                    Tag Number\r\n                            </label>\r\n                                <input className={isError ? errInputClass : inputClass} value={inputTag}\r\n                                    id=\"tagNumber\" type=\"text\" placeholder=\"Enter your tag number\" onChange={(e) => setInputTag(e.target.value)}\r\n                                />\r\n                            </div>\r\n                            <div className=\"inline-block ml-5\">\r\n                                <button className=\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none m-auto\" type=\"button\"\r\n                                    onClick={() => { submitTagNumber() }}\r\n                                >\r\n                                    Submit\r\n                             </button>\r\n                            </div>\r\n                            <div className=\"inline-block ml-5\" style={{ display: data.length > 0 ? \"\" : \"none\" }}>\r\n                                <button onClick={(e) => {\r\n                                    e.preventDefault();\r\n                                    // console.log()\r\n                                    let pre_kml_data = JSON.parse(localStorage.getItem('pre_kml_data'))\r\n                                    let inputArray = JSON.parse(localStorage.getItem('inputsArray'))\r\n                                    var file = new File([`${KML_GEN(pre_kml_data, inputArray)}`], `${new Date()}.kml`, { type: \"text/xml;charset=utf-8\" });\r\n                                    saveAs(file);\r\n                                }} class=\"bg-purple-800 hover:bg-purple-900 text-white  py-2 px-4 rounded inline-flex items-center\">\r\n                                    <svg class=\"fill-current w-4 h-4 mr-2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path d=\"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z\" /></svg>\r\n                                    <span>Download KML</span>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"inline-block ml-5\" style={{ display: data.length > 0 ? \"\" : \"none\" }}>\r\n                                <button onClick={(e) => {\r\n                                    e.preventDefault();\r\n                                    let pre_kml_data = JSON.parse(localStorage.getItem('pre_kml_data'))\r\n                                    let json = { type: 'FeatureCollection', features: [] };\r\n                                    let temp = pre_kml_data.map((i) => {\r\n                                        json.features.push({\r\n                                            type: 'Feature',\r\n                                            geometry: {\r\n                                                type: 'Point',\r\n                                                coordinates: [parseFloat(i.Longitude), parseFloat(i.Latitude)],\r\n                                            },\r\n                                            properties: i,\r\n                                        });\r\n                                    });\r\n                                    var file = new File([`${JSON.stringify(json)}`], `${new Date()}.json`, { type: \"application/json;charset=utf-8\" });\r\n                                    saveAs(file);\r\n                                }} class=\"bg-purple-800 hover:bg-purple-900 text-white  py-2 px-4 rounded inline-flex items-center\">\r\n                                    <svg class=\"fill-current w-4 h-4 mr-2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path d=\"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z\" /></svg>\r\n                                    <span>Download JSON</span>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        {isError ? <p className=\"text-red-500 pl-2 text-xs pt-1\">Tag name is required </p> : \"\"}\r\n                    </form>\r\n                </div>\r\n                {data !== undefined && data.length > 0 &&\r\n                    <div>\r\n                        {showAttr()}\r\n                    </div>\r\n                }\r\n                <p className=\"text-center\">&copy; Datum360 Limited</p>\r\n            </div>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default HomeScreen;","import React, { useEffect } from 'react';\r\nimport NavBar from '../components/NavBar'\r\n\r\nfunction Poc(props) {\r\n    useEffect(() => {\r\n        var tasks = [\r\n            {\r\n                \"startDate\": 2885, \"endDate\": 3293, \"taskName\": \"Hexo\", \"status\": \"KILLED\", \"attrs\": [\r\n                    {\r\n                        \"name\": \"Wear\",\r\n                        \"value\": \"here\",\r\n                    },\r\n                    {\r\n                        \"name\": \"ABC\",\r\n                        \"value\": \"XYZ\",\r\n                    }\r\n                ]\r\n            },\r\n            { \"startDate\": 4333, \"endDate\": 4453, \"taskName\": \"Fixed\", \"status\": \"RUNNING\", \"tootl\": \"hello2\" },\r\n            { \"startDate\": 7025, \"endDate\": 9280, \"taskName\": \"Reference\", \"status\": \"SUCCEEDED\", \"tootl\": \"hello3\" },\r\n            // { \"startDate\": 94, \"endDate\": 194, \"taskName\": \"Reference\", \"status\": \"SUCCEEDED\" },\r\n            // { \"startDate\": 1000, \"endDate\": 1100, \"taskName\": \"Fixed\", \"status\": \"RUNNING\" },\r\n            // { \"startDate\": 2000, \"endDate\": 2100, \"taskName\": \"Fixed\", \"status\": \"RUNNING\" },\r\n            // { \"startDate\": 3200, \"endDate\": 3300, \"taskName\": \"Reference\", \"status\": \"SUCCEEDED\" },\r\n        ];\r\n\r\n        var taskStatus = {\r\n            \"SUCCEEDED\": \"bar\",\r\n            \"FAILED\": \"bar-failed\",\r\n            \"RUNNING\": \"bar-running\",\r\n            \"KILLED\": \"bar-killed\"\r\n        };\r\n\r\n        var taskNames = [\"Hexo\", \"Fixed\", \"Reference\"];\r\n\r\n        tasks.sort(function (a, b) {\r\n            return a.endDate - b.endDate;\r\n        });\r\n        var maxDate = tasks[tasks.length - 1].endDate;\r\n        tasks.sort(function (a, b) {\r\n            return a.startDate - b.startDate;\r\n        });\r\n        var minDate = tasks[0].startDate;\r\n\r\n\r\n        var format = \"%H:%M\";\r\n\r\n        // gantt 1\r\n        var gantt1 = window.d3.gantt(\"new-gantt\", tasks).taskTypes(taskNames).taskStatus(taskStatus).tickFormat(format);\r\n        gantt1(tasks);\r\n\r\n\r\n        //gantt2\r\n        var tasks2 = [\r\n            { \"startDate\": 35, \"endDate\": 45, \"taskName\": \"DS - Inner Rail Wear\", \"status\": \"RUNNING\", \"wear\": \"<0.5km\" },\r\n            { \"startDate\": 40, \"endDate\": 50, \"taskName\": \"DS - Outer Rail Wear\", \"status\": \"SUCCEEDED\", \"wear\": \"<0.1km\" },\r\n            { \"startDate\": 75, \"endDate\": 85, \"taskName\": \"DS - Speed Restriction\", \"status\": \"FAILED\", \"wear\": \"<10km\" },\r\n            { \"startDate\": 100, \"endDate\": 110, \"taskName\": \"DS - Vertical Clearance Limitation\", \"status\": \"RUNNING\", \"wear\": \"<3km\" },\r\n            { \"startDate\": 120, \"endDate\": 130, \"taskName\": \"DS - Vertical Clearance Limitation\", \"status\": \"KILLED\", \"wear\": \"<5km\" },\r\n        ];\r\n\r\n\r\n        var taskNames2 = [\"DS - Inner Rail Wear\", \"DS - Outer Rail Wear\", \"DS - Speed Restriction\", \"DS - Vertical Clearance Limitation\"];\r\n\r\n        tasks2.sort(function (a, b) {\r\n            return a.endDate - b.endDate;\r\n        });\r\n\r\n\r\n        // gantt 2\r\n        var gantt2 = window.d3.gantt(\"new-gantt2\", tasks2).taskTypes(taskNames2).taskStatus(taskStatus).tickFormat(format);\r\n        gantt2(tasks2);\r\n\r\n        // // for map\r\n        window.InitializeMap();\r\n\r\n    }, [])\r\n    return (\r\n        <div>\r\n            <NavBar showLogoutButton={true}></NavBar>\r\n            <br></br>\r\n            {/* <!-- // just for styling purpoe --> */}\r\n            <svg style={{ height: 0, position: \"absolute\" }}>\r\n                <defs>\r\n                    <linearGradient id=\"red\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\r\n                        <stop offset=\"0%\" style={{ stopColor: \"#fd3c3c\", stopOpacity: 1 }} />\r\n                        <stop offset=\"100%\" style={{ stopColor: \"#dc281e\", stopOpacity: 1 }} />\r\n                    </linearGradient>\r\n                    <linearGradient id=\"green\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\r\n                        <stop offset=\"0%\" style={{ stopColor: \"#7bdb06\", stopOpacity: 1 }} />\r\n                        <stop offset=\"100%\" style={{ stopColor: \"#36ac00\", stopOpacity: 1 }} />\r\n                    </linearGradient>\r\n                    <linearGradient id=\"blue\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\r\n                        <stop offset=\"0%\" style={{ stopColor: \"#00c6ff\", stopOpacity: 1 }} />\r\n                        <stop offset=\"100%\" style={{ stopColor: \"#0072ff\", stopOpacity: 1 }} />\r\n                    </linearGradient>\r\n                    <linearGradient id=\"orange\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\r\n                        <stop offset=\"0%\" style={{ stopColor: \"#fe8c00\", stopOpacity: 1 }} />\r\n                        <stop offset=\"100%\" style={{ stopColor: \"#f83600\", stopOpacity: 1 }} />\r\n                    </linearGradient>\r\n                </defs>\r\n            </svg>\r\n\r\n            <h3>Gantt 1</h3>\r\n            <div id=\"new-gantt\" style={{ height: \"130px\", width: \"1000px\" }}></div>\r\n            <h3>Gantt 2</h3>\r\n            <div id=\"new-gantt2\" style={{ height: \"200px\", width: \"1000px\" }}></div>\r\n\r\n            <br></br>\r\n\r\n            <h3>Map</h3>\r\n            <br></br>\r\n            <div id=\"dvMap\" style={{ height: \"500px\", width: \"35%\" }}></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Poc;","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport NavBar from '../components/NavBar'\r\nimport  Api from \"../api/api\";\r\n// import bug from \"../../public/assests/bug.svg\";\r\nimport bug from \"../assests/bug.svg\";\r\nimport chat from \"../assests/gantt_chat.svg\";\r\nimport map from \"../assests/map.svg\";\r\nimport search from \"../assests/search.svg\";\r\nimport noDataAttribute from \"../assests/noDataAttribute.svg\";\r\n\r\n\r\nimport {\r\n    Accordion,\r\n    AccordionItem,\r\n    AccordionItemHeading,\r\n    AccordionItemButton,\r\n    AccordionItemPanel,\r\n} from 'react-accessible-accordion';\r\nconst axios = require('axios');\r\n\r\nfunction LinearAsset(props) {\r\n    const[ganttData, setGanttData] = useState([]);\r\n    const[ass_ganttData, setAss_ganttData] = useState([]);\r\n    const[attributeData, setAttributeData] = useState([]);\r\n    const[documentData, setdocumentData] = useState([]);\r\n    const[isLoading, setIsLoading] = useState(false);\r\n    const[isAttrLoading, setIsAttrLoading] = useState(false);\r\n    const[isError, setIsError] = useState(false);\r\n    const[errMsg, setErrorMsg] = useState();\r\n    const[showData, setShowData] = useState(false);\r\n    const[isGanntHaveData, setIsGanntHaveData] = useState(false);    \r\n    const[isAssociateGanntHaveData, setIsAssociateGanntHaveData] = useState(false);\r\n\r\n    const doApi = (searchKey) => {\r\n        setIsLoading(true);\r\n        //setting token in header\r\n        axios.defaults.headers.common = { 'Authorization': localStorage.getItem(\"b_token\")};\r\n        Api.getRouteObj(searchKey).then((response)=>{\r\n            console.log(\"response ------------>\");\r\n            console.log(response);\r\n            if(response != undefined && response != null) {\r\n                setShowData(true);\r\n                if(response.dataMap != undefined && response.dataMap != null && Object.keys(response.dataMap).length > 0){\r\n                    console.log(\"inside if\")\r\n                    setIsGanntHaveData(true);\r\n\r\n                    //generating data\r\n                    generateGanttData(response.dataMap);\r\n                }\r\n                else{\r\n                    console.log(\"inside else\")\r\n                    //set gantt data error\r\n                    setIsGanntHaveData(false);\r\n                }\r\n                if(response.dataMapEq != undefined && response.dataMapEq != null && Object.keys(response.dataMapEq).length > 0){\r\n                    setIsAssociateGanntHaveData(true);\r\n\r\n                    //generate associate Data\r\n                    generateAssociateData(response);\r\n                }\r\n                else{\r\n                    //set gantt data error\r\n                    setIsAssociateGanntHaveData(false);\r\n                }\r\n            }\r\n            console.log(\"isGanntHaveData----------->\"+isGanntHaveData)\r\n            console.log(\"isAssociateGanntHaveData ------------ \"+isAssociateGanntHaveData)\r\n            setIsLoading(false);\r\n        }).catch(error => {\r\n            console.log(\"doApi error ------------>\");\r\n            console.log(error);\r\n            setIsLoading(false);\r\n            console.log(\"isGanntHaveData----------->\"+isGanntHaveData)\r\n            console.log(\"isAssociateGanntHaveData ------------ \"+isAssociateGanntHaveData)\r\n            if(!isAssociateGanntHaveData && !ganttData){\r\n                setIsError(true);\r\n            }\r\n            // setIsError(true);\r\n            // setErrorMsg(\"Something went wrong. Please Try again!!\");\r\n        });\r\n    }; \r\n\r\n    const generateGanttData = (LaMap) => {\r\n        //getting y keys from main object\r\n        let ganntKeys =  Object.keys(LaMap);\r\n        //variable to store all data\r\n        let data = [];\r\n        let mapdata = [];\r\n        //generating data for fixed key\r\n        LaMap.fixed.map((fixed_obj)=>{\r\n            let pointsToAdd = 300;\r\n            \r\n            //getting all keys from attrs\r\n            let arrkeys = Object.keys(fixed_obj.refObj.attrs);\r\n\r\n            //initalize object\r\n            let obj = {};\r\n\r\n            //looping attribute keys and getting attribute values\r\n            arrkeys.map((key, index) => {\r\n                obj[fixed_obj.refObj.attrs[key].name] = fixed_obj.refObj.attrs[key].value;\r\n            });\r\n\r\n            //getting lat and lang\r\n            let lat = Number(Object.values(fixed_obj.refObj.attrs).filter(e => e.name == 'Approved Latitude')[0].value.replace(\" S\", \"\"))\r\n            let lng = Number(Object.values(fixed_obj.refObj.attrs).filter(e => e.name == 'Approved Longitude')[0].value.replace(\" E\", \"\")) > 0 ? Number(Object.values(fixed_obj.refObj.attrs).filter(e => e.name == 'Approved Longitude')[0].value.replace(\" E\", \"\")) : Number(Object.values(fixed_obj.refObj.attrs).filter(e => e.name == 'Approved Longitude')[0].value.replace(\" E\", \"\").substring(1))\r\n            mapdata.push({\r\n                \"lat\": lat,\r\n                \"lng\": lng\r\n            });\r\n        \r\n            //creating object with required values  \r\n            data.push({\r\n                \"startDate\": fixed_obj.route_chainage,\r\n                \"endDate\": (fixed_obj.route_chainage + pointsToAdd),\r\n                \"taskName\": \"Fixed\",\r\n                \"status\": \"RUNNING\",\r\n                \"attrs\": [{\r\n                    \"name\": \"Tag: \",\r\n                    \"value\": fixed_obj.objId\r\n                }],\r\n                \"hdl\": fixed_obj.hdl,\r\n                 \"lat\": lat,\r\n                \"lng\": lng\r\n            });\r\n        });\r\n\r\n        //generating data for ref key\r\n        LaMap.ref.map((ref_obj)=>{\r\n            let pointsToAdd = 300;\r\n            \r\n            //getting lat and lang\r\n            let lng = Number(Object.values(ref_obj.refObj.attrs).filter(e => e.name == 'Approved Latitude')[0].value)\r\n            let lat = Number(Object.values(ref_obj.refObj.attrs).filter(e => e.name == 'Approved Longitude')[0].value)\r\n            mapdata.push({\r\n                \"lat\": lat,\r\n                \"lng\": lng\r\n            });\r\n\r\n            //creating object with required values\r\n            data.push({\r\n                \"startDate\": ref_obj.route_chainage,\r\n                \"endDate\": (ref_obj.route_chainage + pointsToAdd),\r\n                \"taskName\": \"Reference\",\r\n                \"status\": \"SUCCEEDED\",\r\n                \"attrs\": [{\r\n                    \"name\": \"Tag: \",\r\n                    \"value\": ref_obj.objId\r\n                }],\r\n                \"hdl\": ref_obj.hdl,\r\n                \"lat\": lat,\r\n                \"lng\": lng\r\n            });\r\n        });\r\n   \r\n        //generating map data\r\n        generateMapData(mapdata);\r\n\r\n        //set generated data to state\r\n        setGanttData(data);\r\n\r\n        var taskStatus = {\r\n            \"SUCCEEDED\": \"bar\",\r\n            \"FAILED\": \"bar-failed\",\r\n            \"RUNNING\": \"bar-running\",\r\n            \"KILLED\": \"bar-killed\"\r\n        };\r\n        \r\n        var taskNames = [\"Fixed\", \"Reference\"];\r\n        var format = \"%H:%M\";\r\n        // gantt 1\r\n        var gantt1 = window.d3.gantt(\"gantt\", data, onClickGanttItem).taskTypes(taskNames).taskStatus(taskStatus).tickFormat(format);\r\n        gantt1(data);\r\n    };\r\n\r\n    const onClickGanttItem = (clickedObj) => { \r\n        setIsAttrLoading(true);\r\n        let objType = \"TAGGED_ITEM\";\r\n        //setting token in header\r\n        axios.defaults.headers.common = { 'Authorization': localStorage.getItem(\"b_token\")}\r\n\r\n        //initialize required variables\r\n        let hdlData = [];\r\n\r\n        //doing api call for getting attributes data\r\n        Api.objectByHdl(objType, clickedObj.hdl).then((response)=>{\r\n            if(response != null) {\r\n                //getting all keys from attrs\r\n                let arrkeys = Object.keys(response.attrs);\r\n                //initalize object\r\n                let obj = {};\r\n                //looping attribute keys and getting attribute values\r\n                arrkeys.map((key) => {\r\n                    obj[response.attrs[key].name] = response.attrs[key].value;\r\n                });\r\n                //set data to state            \r\n                setAttributeData(obj);\r\n                setIsAttrLoading(false);\r\n            }\r\n        }).catch(error => {\r\n            setIsLoading(false);\r\n            console.log(\"objectByHdl error---------->\"+JSON.stringify(error));\r\n        });\r\n\r\n        //doing api call for getting document link data\r\n        Api.objectAssociations(objType, clickedObj.hdl, \"DOCUMENT\").then((response)=>{\r\n            let associativeData = []; \r\n            if(response != null){\r\n                if(response.items.length > 0) {\r\n                    {response.items.map((item)=>{\r\n                        associativeData.push({\r\n                            name: item.ID,\r\n                            class: item.ClsName,\r\n                            link: item.Url\r\n                        })\r\n                    })}\r\n                    setdocumentData(associativeData);\r\n                }\r\n            }\r\n        }).catch(error => {\r\n            console.log(\"objectAssociations error---------->\"+JSON.stringify(error));\r\n        });\r\n\r\n        // window.myMap.setCenter({lat:clickedObj.lat, lng:clickedObj.lng})    ;\r\n        window.myMap.setZoom(17);\r\n\r\n        window.myMap.panTo({lat:clickedObj.lat, lng:clickedObj.lng});\r\n        // window.myMap.setZoom(18);      // This will trigger a zoom_changed on the map\r\n    };\r\n\r\n    const generateAssociateData = (AssociativeData) => {\r\n        // console.log(JSON.stringify(AssociativeData))\r\n        //getting y keys from main object\r\n        let issueKeys =  Object.keys(AssociativeData.dataMapEq.Issue);\r\n        //variable to store all data\r\n        let data = [];\r\n        issueKeys.map((key)=>{\r\n            //generating data for fixed key\r\n            AssociativeData.dataMapEq.Issue[key].map((issue_obj)=>{\r\n                if(issue_obj.attribute_name != \"\"){\r\n                    //creating object with required values  \r\n                    data.push({\r\n                        \"startDate\": issue_obj.from_route_chainage,\r\n                        \"endDate\": issue_obj.to_route_chainage,\r\n                        \"taskName\": issue_obj.class_name,\r\n                        \"status\": \"KILLED\",\r\n                        \"attrs\": [{\r\n                            \"name\": issue_obj.attribute_name + \": \",\r\n                            \"value\": issue_obj.attribute_value + \" \" + issue_obj.attribute_uom\r\n                            },\r\n                            {\r\n                                \"name\": \"Ref: \",\r\n                                \"value\": issue_obj.refObj.ID\r\n                            }\r\n                        ],\r\n                        \"hdl\": issue_obj.refObj.Hdl,\r\n                    });\r\n                }\r\n            });\r\n        });\r\n\r\n        //getting y keys from main object\r\n        let valueKeys =  Object.keys(AssociativeData.dataMapEq.Value);\r\n        //variable to store all data\r\n        valueKeys.map((key)=>{\r\n            //generating data for fixed key\r\n            AssociativeData.dataMapEq.Value[key].map((value_obj)=>{\r\n                if(value_obj.attribute_name != \"\"){\r\n                    //creating object with required values  \r\n                    data.push({\r\n                        \"startDate\": value_obj.from_route_chainage,\r\n                        \"endDate\": value_obj.to_route_chainage,\r\n                        \"taskName\": value_obj.class_name,\r\n                        \"status\": \"RUNNING\",\r\n                        \"attrs\": [{\r\n                            \"name\": value_obj.attribute_name + \": \",\r\n                            \"value\": value_obj.attribute_value + \" \" + value_obj.attribute_uom\r\n                            },\r\n                            {\r\n                                \"name\": \"Ref: \",\r\n                                \"value\": value_obj.refObj.ID\r\n                            }\r\n                        ],\r\n                        \"hdl\": value_obj.refObj.Hdl,\r\n                    });\r\n                }\r\n            });\r\n        });\r\n        //set generated associative data to state\r\n        setAss_ganttData(data);\r\n\r\n        var taskStatus = {\r\n            \"SUCCEEDED\": \"bar\",\r\n            \"FAILED\": \"bar-failed\",\r\n            \"RUNNING\": \"bar-running\",\r\n            \"KILLED\": \"bar-killed\"\r\n        };\r\n        var taskNames = [...issueKeys, ...valueKeys];\r\n        var format = \"%H:%M\";\r\n        var gantt1 = window.d3.gantt(\"associate_gantt\", data).taskTypes(taskNames).taskStatus(taskStatus).tickFormat(format);\r\n        gantt1(data);\r\n    };\r\n\r\n    const generateMapData = (data) => {\r\n        // console.log(JSON.stringify(data))\r\n        let mapObj = {\r\n            \"optimizeWaypoints\": false,\r\n            \"travelMode\": \"DRIVING\"\r\n        };\r\n        let waypoints = [];\r\n        {data.map((item, index)=>{\r\n            if(index == 0){\r\n                mapObj.origin = {\r\n                    \"lat\": item.lat,\r\n                    \"lng\": item.lng\r\n                }\r\n            }\r\n            else if(index == (data.length - 1)){\r\n                mapObj.destination = {\r\n                    \"lat\": item.lat,\r\n                    \"lng\": item.lng\r\n                }\r\n                mapObj.waypoints = waypoints;\r\n            }\r\n            else{\r\n                waypoints.push({\r\n                    \"location\": {\r\n                        \"lat\": item.lat,\r\n                        \"lng\": item.lng\r\n                    },\r\n                    \"stopover\": true\r\n                })\r\n            }\r\n        })}\r\n        // console.log(\"mapObj ------->\"+JSON.stringify(mapObj));\r\n        window.InitializeMap(mapObj);\r\n    };\r\n\r\n    const searchClicked = (keyword) => {\r\n        setShowData(false);\r\n        setAttributeData([]);\r\n        setdocumentData([]);\r\n        doApi(keyword);\r\n    }\r\n    return(\r\n        <div>\r\n            <NavBar showLogoutButton={true} showSearch={true} onClickSearch={searchClicked} ></NavBar>\r\n            {isLoading ?\r\n                <div className=\"popUpContainer\">\r\n                    <div className=\"loader\"></div>\r\n                </div>\r\n            : \r\n                \"\"\r\n            }\r\n             {isAttrLoading ?\r\n                <div className=\"popUpContainer\">\r\n                    <div className=\"loader\"></div>\r\n                </div>\r\n            : \"\"}\r\n\r\n            {showData ? \r\n                <div className=\"relative\">\r\n                    <svg style={{ height: 0, position: \"absolute\" }}>\r\n                    <defs>\r\n                        <linearGradient id=\"red\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\r\n                            <stop offset=\"0%\" style={{ stopColor: \"#fd3c3c\", stopOpacity: 1 }} />\r\n                            <stop offset=\"100%\" style={{ stopColor: \"#dc281e\", stopOpacity: 1 }} />\r\n                        </linearGradient>\r\n                        <linearGradient id=\"green\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\r\n                            <stop offset=\"0%\" style={{ stopColor: \"#7bdb06\", stopOpacity: 1 }} />\r\n                            <stop offset=\"100%\" style={{ stopColor: \"#36ac00\", stopOpacity: 1 }} />\r\n                        </linearGradient>\r\n                        <linearGradient id=\"blue\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\r\n                            <stop offset=\"0%\" style={{ stopColor: \"#00c6ff\", stopOpacity: 1 }} />\r\n                            <stop offset=\"100%\" style={{ stopColor: \"#0072ff\", stopOpacity: 1 }} />\r\n                        </linearGradient>\r\n                        <linearGradient id=\"orange\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\r\n                            <stop offset=\"0%\" style={{ stopColor: \"#fe8c00\", stopOpacity: 1 }} />\r\n                            <stop offset=\"100%\" style={{ stopColor: \"#f83600\", stopOpacity: 1 }} />\r\n                        </linearGradient>\r\n                    </defs>\r\n                </svg>\r\n                    <div className=\"flex\">\r\n                        <div className=\"w-1/4\">\r\n                            <div id=\"dvMap\" className={isLoading ? \"hidden\" : \"block\"} style={{height: \"100vh\"}}></div>\r\n                        </div>\r\n                        <div className=\"w-3/4\">\r\n                    {/* gantt chat */}\r\n\r\n                    <div id=\"gantt\" className={isGanntHaveData ? \"block\" : \"hidden\"} style={{ minHeight: \"130px\"}}></div>\r\n                    {isGanntHaveData \r\n                    ?   \"\"\r\n                    :  <div className=\"chat_center\">    \r\n                            {/* <img draggable={false} width={150} src={chat} /> */}\r\n                            <p className=\"text-center mt-3 text-purple-800\">No data in fixed and reference</p>\r\n                        </div>\r\n                    }\r\n                    \r\n                    {/* associate_gantt chat*/}\r\n                    <div id=\"associate_gantt\" className={isAssociateGanntHaveData ? \"block\" : \"hidden\"} style={{ height: \"200px\"}}></div>\r\n                    {isAssociateGanntHaveData \r\n                    ?   \"\"\r\n                    :   \r\n                        <div className=\"chat_center\">    \r\n                            {/* <img draggable={false} width={150} src={chat} /> */}\r\n                            <p className=\"text-center mt-3 text-purple-800\">No data in associative</p>\r\n                        </div>\r\n                    }\r\n\r\n                    \r\n                    <div>\r\n                        {/* attribute */}\r\n                        {attributeData != undefined && attributeData != \"\" \r\n                            ? \r\n                                <div className=\"w-1/2 h-200px float-left\">\r\n                                    <div className=\"max-w rounded w-full shadow  p-5\">\r\n                                        {/* <p className=\"text-xl font-bold mb-3\">Attributes</p> */}\r\n                                        <Accordion className=\"border-0\" preExpanded={[\"attributes\"]} >\r\n                                            <AccordionItem className=\"shadow-md mb-3\" uuid=\"attributes\"\r\n                                            // key={item.Latitude}\r\n                                            >\r\n                                                <AccordionItemHeading className=\"bg-gray-400 p-2\">\r\n                                                    <AccordionItemButton className=\"w-full border-none outline-none focus:border-0 inline-flex\">\r\n                                                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-arrow-right\"><line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line><polyline points=\"12 5 19 12 12 19\"></polyline></svg>\r\n                                                        &emsp;\r\n                                                        {/* {arrSplittedValue[index]} */}\r\n                                                        Attributes\r\n                                                    </AccordionItemButton>\r\n                                                </AccordionItemHeading>\r\n                                                <AccordionItemPanel>\r\n                                                    <table class=\"table-auto w-full\">\r\n                                                        <tbody>\r\n                                                            {Object.keys(attributeData).map((key)=>{\r\n                                                                return <tr>\r\n                                                                    <td class=\"border px-4 py-2\">{key}</td>\r\n                                                                    <td class=\"border px-4 py-2\">{attributeData[key]}</td>\r\n                                                                </tr>\r\n                                                            })}\r\n                                                        </tbody>\r\n                                                    </table>\r\n                                                </AccordionItemPanel>\r\n                                            </AccordionItem>\r\n                                        </Accordion>\r\n                                    </div>\r\n                                </div>\r\n                            : \"\"\r\n                        }\r\n                        {/* document link data */}\r\n                        {documentData != undefined && documentData.length > 0 \r\n                            ?\r\n                                <div className=\"w-1/2 h-300px float-right\">\r\n                                    <div className=\"max-w rounded w-full shadow  p-5\">\r\n                                        {/* <p className=\"text-xl font-bold mb-3\">Attributes</p> */}\r\n                                        <Accordion className=\"border-0\" preExpanded={[\"doc\"]}>\r\n                                            <AccordionItem className=\"shadow-md mb-3\" uuid=\"doc\"\r\n                                            // key={item.Latitude}\r\n                                            >\r\n                                                <AccordionItemHeading className=\"bg-gray-400 p-2\">\r\n                                                    <AccordionItemButton className=\"w-full border-none outline-none focus:border-0 inline-flex\">\r\n                                                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-arrow-right\"><line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line><polyline points=\"12 5 19 12 12 19\"></polyline></svg>\r\n                                                        &emsp;\r\n                                                        {/* {arrSplittedValue[index]} */}\r\n                                                        Document Links\r\n                                                    </AccordionItemButton>\r\n                                                </AccordionItemHeading>\r\n                                                <AccordionItemPanel>\r\n                                                    <table class=\"table-auto w-full\">\r\n                                                        <tbody>\r\n                                                            {documentData.map((item)=>{\r\n                                                                return <tr>\r\n                                                                    <td class=\"border px-4 py-2\">{item.name}</td>\r\n                                                                    <td class=\"border px-4 py-2\">{item.class}</td>\r\n                                                                    <td class=\"border px-4 py-2\" >\r\n                                                                        <a href={item.link} target=\"_blank\">\r\n                                                                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"17\" height=\"17\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-link\"><path d=\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"></path><path d=\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"></path></svg>\r\n                                                                        </a>\r\n                                                                    </td>\r\n                                                                </tr>\r\n                                                            })}\r\n                                                        </tbody>\r\n                                                    </table>\r\n                                                </AccordionItemPanel>\r\n                                            </AccordionItem>\r\n                                        </Accordion>\r\n                                    </div>\r\n                                </div>\r\n                            : \"\"\r\n                        }\r\n                    </div>\r\n                </div>\r\n                    </div> \r\n                </div>\r\n            : \r\n                <div className=\"centerItem\">\r\n                    <img draggable={false} width={300} src={search} />\r\n                    <p className=\"text-center mt-3 text-purple-800\">Search to show the data here</p>\r\n                </div>\r\n            }\r\n            \r\n            {isError ? \r\n                <div className=\"centerItem\">\r\n                    <img draggable={false} width={300} src={bug} />\r\n                    <p className=\"text-center mt-3 text-purple-800\">Something went wrong. Please try again!!</p>\r\n                </div> \r\n            : \"\"}\r\n            {/* loader */}\r\n            {/* searchBar */}\r\n            {/* map */}\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LinearAsset;","import React from 'react';\r\nimport LoginScreen from './screens/LoginScreen';\r\nimport HomeScreen from './screens/HomeScreen';\r\nimport Poc from './screens/Poc';\r\nimport \"./App.css\";\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport LinearAsset from \"./screens/LinearAsset\";\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <div>\r\n      <Router>\r\n        <Route exact path=\"/\" component={LoginScreen} />\r\n        <Route exact path=\"/home\" component={HomeScreen} />\r\n        <Route exact path=\"/poc\" component={Poc} />\r\n        \r\n        <Route exact path=\"/linearAsset\" component={LinearAsset} />\r\n\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}