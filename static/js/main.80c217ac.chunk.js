(this.webpackJsonpdatum360=this.webpackJsonpdatum360||[]).push([[0],{25:function(e,t,a){e.exports=a(55)},51:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(10),r=a.n(o);var c=function(e){return l.a.createElement("nav",{class:"flex items-center justify-between flex-wrap bg-purple-900  p-6"},l.a.createElement("div",{class:"flex items-center flex-shrink-0 text-black mr-6"},l.a.createElement("img",{className:"w-1/2",src:"https://www.datum360.com/assets/img/logo.png"})),l.a.createElement("div",{class:"block lg:hidden"},l.a.createElement("button",{class:"flex items-center px-3 py-2 border rounded text-teal-200 border-teal-400 hover:text-white hover:border-white"},l.a.createElement("svg",{class:"fill-current h-3 w-3",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("title",null,"Menu"),l.a.createElement("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})))),l.a.createElement("div",{class:"w-full block flex-grow lg:flex lg:items-center lg:w-auto"},l.a.createElement("div",{class:"text-sm lg:flex-grow"}),l.a.createElement("div",{className:"".concat(e.showLogoutButton?"":"hidden")},l.a.createElement("button",{class:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-log-out"},l.a.createElement("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),l.a.createElement("polyline",{points:"16 17 21 12 16 7"}),l.a.createElement("line",{x1:"21",y1:"12",x2:"9",y2:"12"})),l.a.createElement("span",null,"Logout")))))},s=a(3);var i=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),o=a[0],r=a[1],i=Object(n.useState)(""),u=Object(s.a)(i,2),m=u[0],d=u[1],b=Object(n.useState)(""),p=Object(s.a)(b,2),g=p[0],f=p[1],h=Object(n.useState)(),w=Object(s.a)(h,2),v=w[0],x=(w[1],Object(n.useState)()),E=Object(s.a)(x,2),y=E[0],j=(E[1],Object(n.useState)("shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline")),O=Object(s.a)(j,2),k=O[0],S=(O[1],Object(n.useState)("shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline border-red-500")),I=Object(s.a)(S,2),C=I[0],B=(I[1],Object(n.useState)()),L=Object(s.a)(B,2);return L[0],L[1],Object(n.useEffect)((function(){var t=setInterval((function(){console.log("listening ------------\x3e"),null!=localStorage.getItem("b_token")&&(console.log("b_token found ----------\x3e"+localStorage.getItem("b_token")),window.myWindow.close(),e.history.push("/home"),console.log("close window ---------\x3e"+window.myWindow),clearInterval(t))}),1e3);return function(){return clearInterval(t)}}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(c,{showLogoutButton:!1}),l.a.createElement("div",{class:"w-full max-w-xs login-container mt-5"},l.a.createElement("form",{class:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},l.a.createElement("div",{class:"mb-4"},l.a.createElement("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"username"},"Username"),l.a.createElement("input",{class:v?C:k,id:"username",type:"text",value:o,placeholder:"Username",onChange:function(e){return r(e.target.value)}})),l.a.createElement("div",{class:"mb-4"},l.a.createElement("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"password"},"Password"),l.a.createElement("input",{class:v?C:k,value:m,id:"password",type:"password",placeholder:"Enter your password",onChange:function(e){return d(e.target.value)}})),l.a.createElement("div",{class:"mb-6"},l.a.createElement("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"username"},"Prefix URL"),l.a.createElement("input",{class:v?C:k,value:g,id:"prefixUrl",type:"text",placeholder:"Enter your prefix url",onChange:function(e){return f(e.target.value)}})),l.a.createElement("p",{class:"text-center mb-3 text-red-500"},v?y:""),l.a.createElement("div",{class:"flex"},l.a.createElement("button",{class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline m-auto",type:"button",onClick:function(){!function(){localStorage.setItem("prefixUrl",g);var e="auth/index.php?clientId=".concat(o,"&clientSecret=").concat(m,"&prefix_url=").concat(g);window.myWindow=window.open(e,"targetWindow","toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=500,height=500")}()}},"Login")))))},u=a(22),m=a.n(u),d=function(e){var t=e.text;return l.a.createElement("div",{class:"bg-red-500"},l.a.createElement("img",{src:"../assests/place.svg "}),t)},b=function(e){var t=Object(n.useState)("shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"),a=Object(s.a)(t,2),o=a[0],r=(a[1],Object(n.useState)("shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline border-red-500")),c=Object(s.a)(r,2),i=c[0],u=(c[1],Object(n.useState)()),b=Object(s.a)(u,2),p=b[0],g=(b[1],Object(n.useState)()),f=Object(s.a)(g,2),h=(f[0],f[1],Object(n.useState)()),w=Object(s.a)(h,2),v=w[0],x=w[1],E=Object(n.useState)([]),y=Object(s.a)(E,2),j=y[0],O=y[1],k=Object(n.useState)([]),S=Object(s.a)(k,2);S[0],S[1];return l.a.createElement("div",{class:"p-10"},l.a.createElement("div",{class:"w-full max-w-xs"},l.a.createElement("form",{class:"bg-white rounded pt-6 pb-8 mb-4"},l.a.createElement("div",{class:"inline-block"},l.a.createElement("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"username"},"Tag Number"),l.a.createElement("input",{class:p?i:o,value:v,id:"tagNumber",type:"text",placeholder:"Enter your tag number",onChange:function(e){return x(e.target.value)}})),l.a.createElement("div",{class:"inline-block ml-5"},l.a.createElement("button",{class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline m-auto",type:"button",onClick:function(){!function(){var e=[],t=0,a=v.split(",").map((function(e){return e.trim()}));a.map((function(n){var l="https://"+localStorage.getItem("prefixUrl")+".pim360.io/api/objects/TAGGED_ITEM/id/"+n,o=localStorage.getItem("b_token");fetch(l,{headers:{Accept:"application/json",Authorization:o}}).then((function(e){return e.json()})).then((function(n){void 0!=n.attrs&&null!=n.attrs?e.push(n):console.log(n),(t+=1)!=a.length||O(e)})).catch((function(e){console.log("error --------\x3e"+e),t+=1}))}))}()}},"SUBMIT")))),void 0!=j&&j.length>0&&l.a.createElement("div",null,function(){var e=[];return j.map((function(t){var a=Object.keys(t.attrs),n={};a.map((function(e){n[t.attrs[e].name]=t.attrs[e].value})),e.push(n)})),l.a.createElement("div",{class:"flex mb-4"},l.a.createElement("div",{class:"w-1/2 bg-gray-400"},l.a.createElement("div",{style:{height:"100vh",width:"100%"}},l.a.createElement(m.a,{defaultCenter:{lat:53.7654,lng:-2.37106},defaultZoom:10},e.map((function(e){return console.log(e),l.a.createElement(d,{lat:e.Latitude,lng:e.Longitude})}))))),l.a.createElement("div",{class:"w-1/2 bg-purple-500"},e.map((function(e){return Object.keys(e).map((function(t){return l.a.createElement("div",null,l.a.createElement("div",{class:"inline-block w-1/2 "},t),l.a.createElement("div",{class:"inline-block w-1/2 "},e[t]))}))}))))}()))},p=(a(51),a(23)),g=a(1);var f=function(){return l.a.createElement("div",null,l.a.createElement(p.a,null,l.a.createElement(g.a,{exact:!0,path:"/",component:i}),l.a.createElement(g.a,{exact:!0,path:"/home",component:b})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.80c217ac.chunk.js.map